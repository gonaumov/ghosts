<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Happy Halloween</title>
		<script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
		<script type="text/javascript" src="js/jquery.randomMove.js"></script>
		<script type="text/javascript">
			function addGhost() {
				 var dfd = $.Deferred();
				 
				 $("<img/>", {
					 "src": "images/ghost.png",
					 "style": "position: absolute;"
				 }).on("load",function() {
					  $(this).randomMove({ 
						 containerSelector: "#holder"
					  });
					  
					  dfd.resolve();
				 }).appendTo("#holder");
				 
				 return dfd.promise();
			};
			
			$(window).load(function () {
				 setTimeout(function loadGhosts() {
					addGhost().done(function() {
						if($.fn.randomMove.iterarionNumber < 66) {
							setTimeout(loadGhosts,10000);	
						}
				    });
				 }, 1000);
			});
		</script>
		<style>		
			#holder {
				width: 700px;
				height: 400px;
				background-color: black; 
				margin: 0px auto;
				position: relative;
				border: 1px solid red;
			}
			body {
				background-color: black; 
				color: white;
			}
			input { 
				float: right; 
			} 
		</style>
<body>
	   <div id="holder"></div>
	   <input type="button" value="Add ghost" onclick="addGhost();"/>
	   <img style="display: none;" src="images/ghost.png" border="0"/>  
</body>
</html>
